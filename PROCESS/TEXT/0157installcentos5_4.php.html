<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>第四章、安装<span class="text_head_en"> CentOS 5.x </title><link href="../Styles/style.css" rel="stylesheet" type="text/css" /></head><body>

<!-- 本文的档头部分 -->
<div style="text-align: center;">
    <a href="0157installcentos5.php.html">
    <span class="text_head0">第四章、安装<span class="text_head_en"> CentOS 5.x </span>与多重开机小技巧</span></a><br>
</div>
    <div style="text-align: right;">
        <span class="text_history">最近更新日期：2009/08/11</span>
    </div>
<!-- 本文的连结区部分 -->
<div class="block1">
<span class="text_h1">
4. <a href="#moreOS">多重开机安装流程与技巧</a><br>
	<span class="text_h2">
	　　4.1 <a href="#moreOS_new_1">新主机仅有一颗硬盘</a><br>
	　　4.2 <a href="#moreOS_old_1">旧主机有两颗以上硬盘</a><br>
	　　4.3 <a href="#moreOS_old_2">旧主机只有一颗硬盘</a><br>
	</span>
</span></div>
<!-- 本文的正式部分 -->
<hr><a name="moreOS"></a><img src="../images/logo.png" alt="大标题的图示" width="35" align="middle" height="34"><span class="text_h1">多重开机安装流程与技巧</span><br>
<div class="block1">
	<p>有鉴於自由软件的蓬勃发展以及专利软件越来越贵，所以政府单位也慢慢的希望各部门在选购计算机时，
	能够考量同时含有两种以上操作系统的机器了。加上很多朋友其实也常常有需要两种不同操作系统来处理日常生活与工作的事情。
	那我是否需要两部主机来操作不同的操作系统？不需要的，我们可以透过多重开机来选择登入不同的操作系统喔！
	一部机器搞定不同操作系统哩。</p>

	<p>不过，就如同鸟哥之前提过的，多重开机系统是有很多风险存在的，而且你也不能随时变动这个多重操作系统的开机磁区，
	这对於初学者想要『很猛烈的』玩Linux是有点妨碍～所以，鸟哥不是很建议新手使用多重开机啦！
	所以，底下仅是提出一个大概，你可以看一看，未来我们谈到后面的章节时，你自然就会有『豁然开朗』的笑容出现了！ ^_^<br><br></p>

	<hr><a name="moreOS_new_1"></a><img src="../images/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">新主机仅有一颗硬盘</span><br>
	<div class="block2">
		<p>如果你的系统是新的，并且想要安装多重操作系统时，那么这个多重操作系统的安装将显的很简单啊！
		假设以目前主流的160GB硬盘作为规划好了，而你想要有WindowsXP, WindowsXP的数据碟, Linux, Swap及一个共用分割槽，
		那我们首先来规划一下硬盘分割吧！如果是这样的需求，那你可以这样规划：</p>

<table width="95%" bgcolor="lightyellow" border="1" cellpadding="3" cellspacing="0">
<tbody><tr align="center" bgcolor="#182448"><td><font color="#FFFFFF">Linux装置档名</font></td><td><font color="#FFFFFF">Windows装置</font></td><td><font color="#FFFFFF">实际内容</font></td><td><font color="#FFFFFF">档案系统</font></td>
	<td><font color="#FFFFFF">容量(GB)</font></td></tr>
<tr><td>/dev/sda1</td><td>C</td><td>Windows系统</td><td>NTFS</td><td>30</td></tr>
<tr><td>/dev/sda2</td><td>D</td><td>Windows数据碟</td><td>NTFS</td><td>60</td></tr>
<tr><td>/dev/sda3</td><td>不要挂载</td><td>Linux根目录(/)</td><td>Ext3</td><td>50</td></tr>
<tr><td>/dev/sda5</td><td>不要挂载</td><td>内存置换空间swap</td><td>swap</td><td>1</td></tr>
<tr><td>/dev/sda6</td><td>E</td><td>Windows/Linux共用</td><td>vfat</td><td>其他所有</td></tr>
</tbody></table>

		<p>接下来就是系统的安装了！安装一定要先装WindowsXP再装Linux才好！顺序搞错了会很麻烦喔！
		基本上，你可以这样安装：</p>
		<ol>
		<li><span class="text_import1">先装Windows XP</span><br>
		在这个阶段依旧使用Windows XP光盘开机来安装，安装到了分割时，记得依照上述表格的规划制作出两个主要分割槽，
		并且将档案系统格式化为NTFS，然后再将Windows XP装到C槽当中。理论上，此时仅有/dev/sda1, 
		/dev/sda2而已喔！<br><br></li>

		<li><span class="text_import1">安装CentOS 5.x</span><br>
		再来则是安装Linux罗，安装时要注意的地方也是在分割的地方，请回到前一小节的<a href="#centos5_4">磁碟分割</a>部分来进行分割设定。另外一个要注意的地方则是在开机管理程序的地方，
		同样回到前一小节看一下<a href="#centos5_5">开机管理程序</a>是如何指定开机选单的！
		尤其是『预设开机』项目，是预设要Windows还是Linux开机呢？这需要你的选择喔！而且grub务必要安装到MBR上头。
		<br><br></li>

		<li><span class="text_import1">后续维护的注意事项</span><br>
		多重开机设定完毕后请特别注意， (1)Windows的环境中最好将Linux的根目录与swap取消挂载，否则未来你打开档案总管时，
		该软件会要求你『格式化！』如果一个不留神，你的Linux系统就毁了。 (2)你的Linux不可以随便的删除！
		因为grub会去读取Linux根目录下的/boot/目录内容，如果你将Linux移除了，你的Windows也就无法开机了！
		因为整个开机选单都会不见喔！<br></li>
		</ol>
	</div>

	<hr><a name="moreOS_old_1"></a><img src="../images/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">旧主机有两颗以上硬盘</span><br>
	<div class="block2">
		<p>如果你的主机上面已经有Windows了，为了担心与Linux冲突，所以你想要加装一颗新的硬盘来安装Linux，这样好吗？
		也是不错的想法啦！不过你得要注意的是，整部个人计算机仅会有一个MBR而已！虽然你有两颗硬盘。</p>

		<p>为什么有两颗硬盘却只有一个MBR呢？因为你得在BIOS里面调整开机的装置，<span class="text_import2">只有第一个可开机装置内的MBR会被系统主动读取</span>。
		所以罗，理论上，你不会将Windows的开机管理程序安装到/dev/sda而将Linux安装到/dev/sdb上头，
		而是得要将grub安装到/dev/sda上，透过他来管理Windows/Linux才行，即使你的Linux是放到/dev/sdb这颗硬盘上面的。</p>

		<p>比较聪明的朋友会想到『我可以调整BIOS内的开机装置，使得要进入不同的操作系统时，就用不同的开机装置来开机，
		如此一来应该就能够避免将grub安装到/dev/sda了吧？』这个想法本身是OK的，只不过，
		因为SATA的装置档名是利用侦测的顺序来决定的，所以你如果这样调整来调整去的话，
		你的SATA装置档名可能会产生不同，这对於linux的运作会有问题，因此如果这样随时调整BIOS时，
		可能还是会造成无法开机成功的问题！</p>

		<p>所以鸟哥还是建议BIOS内的开机顺序不要改变，然后以grub来控制全部的开机选单较佳！
		不过，如果你觉得grub不是这么好用，那怎办？没关系，你可以使用spfdisk这个国人写的开机管理程序来管理喔！
		如果你真的想要使用spfdisk来管理开机选单的话，那你在安装Linux的时候，记得将grub安装到开机磁区(boot sector)，
		然后重新开机进入Windows后，以spfdisk来设定正确的开机选单即可。spfdisk的官网与鸟哥之前写的教学文章可以参考：</p>
		<ul>
		<li>spfdisk官网：<a href="http://spfdisk.sourceforge.net/" target="_blank">http://spfdisk.sourceforge.net/</a></li>
		<li>鸟哥的spfdisk教学：<a href="0140spfdisk.php">http://vbird.dic.ksu.edu.tw/linux_basic/0140spfdisk.php</a></li>
		</ul>
	</div>

	<hr><a name="moreOS_old_2"></a><img src="../images/logo.png" alt="小标题的图示" width="24" align="middle" height="23"><span class="text_h2">旧主机只有一颗硬盘</span><br>
	<div class="block2">
		<p>如果你想要在你的Windows主机上面多加一个Linux操作系统呢？那就得要注意啦！
		因为Windows/Linux不能共存在同一个partition上！而Linux的根目录最好使用Ext3这种Linux支援的档案系统。
		所以，你就得要清出来一个空的分割槽给Linux使用才行喔。</p>

		<p>举例来说，如果你的系统只有C槽，那能不能安装Linux呢？很抱歉！没办法！如果你的系统有C与D槽，
		但是你又想要保留一个数据槽给Windows使用，那你就得要这样做：</p>
		<ol>
		<li>先将D槽的数据搬移出来，不论是搬到随身碟还是C槽中暂存；</li>
		<li>在Windows的逻辑分割管理员中，将D槽删除并重建成两个分割槽，一个是D一个是E；</li>
		<li>将D槽格式化为NTFS(或FAT32)，然后将刚刚的备份数据搬回D槽去；</li>
		<li>E槽不要挂载，这是Linux预计要安装的系统槽。</li>
		</ol>

		<p>这种情况是比较麻烦啦，因为数据需要搬来搬去的，需要很注意移动的过程喔！
		否则，很容易将自己好几年辛苦工作的数据一不小心的全部删除！那就欲哭无泪了！</p>
	</div>
</div>
<hr />
    </td>
    <td style="width: 16px; font-size: 6px;">　</td></tr>
<tr><td style="width: 16px; height: 16px;">　</td>
    <td style="width: 866px; height: 16px;">　</td>
    <td style="width: 16px; height: 16px;">　</body></html>