<!DOCTYPE HTML PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html><head>


   <meta http-equiv="Content-Type" content="text/html; charset=utf8">
   <meta name="Author" content="VBird">
   <title>VBird's Linux -- vi</title>
<style>
   <!--
   body{background-image:url(http://linux.vbird.org/images/VBirdLinux.jpg);
	background-ATTACHMENT:FIXED}
   -->
</style>
</head><body>


<!-- Copyright  2005. Spidersoft Ltd -->
<style>
A.applink:hover {border: 2px dotted #DCE6F4;padding:2px;background-color:#ffff00;color:green;text-decoration:none}
A.applink       {border: 2px dotted #DCE6F4;padding:2px;color:#2F5BFF;background:transparent;text-decoration:none}
A.info          {color:#2F5BFF;background:transparent;text-decoration:none}
A.info:hover    {color:green;background:transparent;text-decoration:underline}
</style>
<div style='BORDER: 1px solid #DCE6F4; MARGIN-TOP: 20px; MARGIN-BOTTOM: 20px; MARGIN-LEFT: 5px; MARGIN-RIGHT: 5px; PADDING: 5px; BACKGROUND-COLOR: #eef8ff;line-height:180%; COLOR: #000000; font-family: Arial; font-size: 8pt; width=100%; FILTER: progid:DXImageTransform.Microsoft.Gradient(GradientType=0, StartColorStr="#FFFFFFFF", EndColorStr="#F2F5FAFF");'>
This page was saved using <a class="applink" href="http://www.spidersoft.com"><b>WebZIP 7.0.3.1030</b></a> <a class="applink" href="http://www.spidersoft.com"><b>offline browser</b></a>  (Unregistered) on  02/12/15 12:14:49.<br>
<b>Address:</b> <a class="info" href="http://vbird.dic.ksu.edu.tw/linux_basic/redhat6.1/linux_07vi.php">http://vbird.dic.ksu.edu.tw/linux_basic/redhat6.1/linux_07vi.php</a><br>
<b>Title:</b> VBird's Linux -- vi &nbsp;&bull;&nbsp; <b>Size:</b> 14100<br></div>
<!-- /Copyright  2005. Spidersoft Ltd -->


<center><b><font color="#3333ff"><font size="+2"><font face="标楷体">鸟哥的</font><font face="Times New Roman,Times"> Linux </font><font face="标楷体">与</font><font face="Times New Roman,Times"> ADSL </font><font face="标楷体">私房菜</font></font></font></b>
<br>
<a href="http://linux.vbird.org/" target="_top"><img src="linux_07vi_files/VBirdTitle2.jpg" nosave="" width="90" border="0" height="25"></a>
<a href="http://linux.vbird.org/linux_basic"><img src="linux_07vi_files/icon_system.gif" nosave="" width="90" border="0" height="25"></a>
<a href="http://linux.vbird.org/linux_server"><img src="linux_07vi_files/icon_server.gif" nosave="" width="90" border="0" height="25"></a>
<a href="http://linux.vbird.org/linux_security"><img src="linux_07vi_files/icon_security.jpg" nosave="" width="90" border="0" height="25"></a>
<a href="http://phorum.vbird.org/" target="_blank"><img src="linux_07vi_files/icon_forums.gif" nosave="" width="90" border="0" height="25"></a>
<a href="http://linux.vbird.org/adsl"><img src="linux_07vi_files/icon_adsl.gif" nosave="" width="90" border="0" height="25"></a>
<br>
<hr width="100%">
</center>
<center><font face="标楷体"><font color="#3333ff"><font size="+2">vi 文字处理软件</font></font></font></center>

<div align="right"><font face="新细明体"><font color="#3333ff"><font size="-1">最近更新日期：2001/07/17</font></font></font></div>
<font color="#000099"><font size="+1"><a href="#vi_what"><font face="Times New Roman Baltic">vi
</font><font face="标楷体">简易说明</font></a></font></font>
<br><font face="标楷体"><font color="#000099"><font size="+1"><a href="#ex">简易执行范例</a></font></font></font>
<br><font face="标楷体"><font color="#000099"><font size="+1"><a href="#command">命令行内容说明</a></font></font></font>
<br><font face="标楷体"><font color="#000099"><font size="+1"><a href="#QA">问题讨论</a></font></font></font>
<br>
<hr width="100%">
<br><a name="vi_what"></a><font color="#000099"><font size="+1"><font face="Times New Roman Baltic">vi
</font><font face="标楷体">简易说明</font></font></font>
<blockquote>要管理好 Linux 系统﹐少不了要对配置文件案进行编辑，如果您用惯了
Microsoft Word 或 Corel Wordperfect 的话，除了 Xwindows 里面的编辑程序(如
xemacs )用起来尚可应付外，于 Linux 的文本模式下，会觉得档案编辑程序都没有
Windows 程序那么方便。虽然 Linux 下面也有好多种文书编辑器，例如﹕ed、vi、pico、joe、emacs等。
<p>以下我们以最常见到的 vi 这套文书软件来介绍 Linux 底下的文书编辑动作。
</p><p>基本上 vi 共分为两种模式，一种是『编辑模式』，一种被称为『命令模式』，其中，在命令模式中尚包含『命令行模式』的情况。『编辑』与『命令』这两种模式的切换动作是以
『Esc』来达成的。通常，档案一开启或者新建档时，会成为命令模式，如果要在档案中输入字符，就必需以小写的
i 来进入编辑模式，进入编辑模式后你输入的咚咚才会显示出来！那由『编辑模式』要变成『命令模式』时，就直接按『Esc』即可。而若要进入『命令行模式』时，就必须要在命令模式中输入『:』（冒号），那游标就会跑到屏幕的最下面一行来等待你输入啦！</p></blockquote>
<a name="ex"></a><font face="标楷体"><font color="#000099"><font size="+1">简易执行范例</font></font></font>
<blockquote><font color="#3333ff">新建档案：</font>
<br>好了，我们在 Linux 底下建立一个名为 test.dat 的档案，可以这样开启一个新档案：
<table width="90%" bgcolor="#000000" cols="1">
<tbody><tr>
<td><font color="#ffffff">[root@tsai&nbsp; root]#&nbsp; vi&nbsp; test.dat</font></td>
</tr>
</tbody></table>

<p><font color="#3333ff">进入编辑模式：</font>
<br>一进入 vi 的画面你会看到一片空白（乌漆嘛黑的），而且即会进入命令模式，你可以输入
i 来进入编辑模式，这时候你会看到屏幕的最下方会出现『--INSERT--』字样：
</p><p><font color="#3333ff">开始编辑：</font>
<br>这时候你就可以随便按几个字来输入一下，在这里要提醒一下，『Tab』键与空格键是不一样的咚咚喔！
</p><p><font color="#3333ff">回到命令模式：</font>
<br>在编辑模式的时候，不论你按什么键（除了 Esc 之外）都会被视为字符而显示在屏幕上，这时按下
Esc 键后会回到命令模式，如果你会到了命令模式，但是要消除你目前光标所在行的内容，你可以输入『dd』，就可以杀掉一整列了！
</p><p><font color="#3333ff">在命令行模式输入储存指令：</font>
<br>OK，我们要存档了，存盘并离开的指令很简单，输入『:wq』即可存档离开！这时你在提示字符后面输入『
ls -l 』即可看到我们刚刚建立的 test.dat 档案啦！</p></blockquote>
<a name="command"></a><font face="标楷体"><font color="#000099"><font size="+1">命令行内容说明</font></font></font>
<blockquote>如前所述，所谓的命令行或命令模式，就是在最下面一行没有显示『<font color="#000099">--INSERT--</font>』或者『<font color="#000099">--REPLACE--</font>』字样的时候。通常在命令行中的指令有下面几种：（注意，当按下
『:』 时，游标会自动移动到屏幕的最下面一行！）
<br>&nbsp;
<table width="90%" cols="2">
<tbody><tr>
<td width="20%">
<hr width="100%"></td>

<td>
<hr width="100%"></td>
</tr>

<tr>
<td><font face="标楷体"><font color="#000066"><font size="+1">进入编辑模式：</font></font></font></td>

<td></td>
</tr>

<tr>
<td>
<center>i</center>
</td>

<td>插入：在目前的游标所在处插入输入之文字，已存在的文字会向后退；</td>
</tr>

<tr>
<td>
<center>a</center>
</td>

<td>增加：由目前游标所在的下一个字开始输入，已存在的文字会向后退：</td>
</tr>

<tr>
<td>
<center>o</center>
</td>

<td>插入新的一行：从光标所在的下一行枝行首开始输入文字；</td>
</tr>

<tr>
<td>
<center>r</center>
</td>

<td>取代：会取代游标所在的那一个字符；</td>
</tr>

<tr>
<td>
<center>R</center>
</td>

<td>全部取代：会一直取代游标所在的文字，直到按下 ESC 为止；</td>
</tr>

<tr>
<td>
<hr width="100%"></td>

<td>
<hr width="100%"></td>
</tr>

<tr>
<td><font face="标楷体"><font color="#000066"><font size="+1">游标移动指令：</font></font></font></td>

<td></td>
</tr>

<tr>
<td>
<center>k&nbsp; 或向上键</center>
</td>

<td>向上移一个字符；</td>
</tr>

<tr>
<td>
<center>j&nbsp; 或向下键</center>
</td>

<td>向下移一个字符；</td>
</tr>

<tr>
<td>
<center>h&nbsp; 或向左键</center>
</td>

<td>向左移一个字符；</td>
</tr>

<tr>
<td>
<center>l&nbsp; 或向右键</center>
</td>

<td>向右移一个字符；</td>
</tr>

<tr>
<td>
<center>H</center>
</td>

<td>游标移动到屏幕顶端；</td>
</tr>

<tr>
<td>
<center>M</center>
</td>

<td>游标移动到屏幕正中央；</td>
</tr>

<tr>
<td>
<center>L</center>
</td>

<td>游标移动到屏幕最夏方；</td>
</tr>

<tr>
<td>
<center>+</center>
</td>

<td>游标移动至非空格符的下一列；</td>
</tr>

<tr>
<td>
<center>-</center>
</td>

<td>游标移动至非空格符的前一列；</td>
</tr>

<tr>
<td>
<center>[Ctrl] + [b]</center>
</td>

<td>屏幕向『后』移动一页；</td>
</tr>

<tr>
<td>
<center>[Ctrl] + [f]</center>
</td>

<td>屏幕向『前』移动一页；</td>
</tr>

<tr>
<td>
<center>[Ctrl] + [u]</center>
</td>

<td>屏幕向『后』移动半页；</td>
</tr>

<tr>
<td>
<center>[Ctrl] + [d]</center>
</td>

<td>屏幕向『前』移动半页；</td>
</tr>

<tr>
<td>
<center>[n]&lt;space&gt;</center>
</td>

<td>先按数字后再按空格键：光标向后面移动 n 个字符；</td>
</tr>

<tr>
<td>
<center>0</center>
</td>

<td>数字键『0』：移动到这一列的第一个字符；</td>
</tr>

<tr>
<td>
<center>$</center>
</td>

<td>移动到这一行的行尾；</td>
</tr>

<tr>
<td>
<center>G</center>
</td>

<td>移动到最后一行；</td>
</tr>

<tr>
<td>
<center>nG</center>
</td>

<td>移动到第 n 行（常与 :set nu 合用）；</td>
</tr>

<tr>
<td>
<center>J</center>
</td>

<td>将目前光标所在行与下一行连结；</td>
</tr>

<tr>
<td>
<hr width="100%"></td>

<td>
<hr width="100%"></td>
</tr>

<tr>
<td><font face="标楷体"><font color="#000066"><font size="+1">搜寻指令：</font></font></font></td>

<td></td>
</tr>

<tr>
<td>
<center>/word</center>
</td>

<td>向游标之后寻找一个名为 『word』 的字符串；</td>
</tr>

<tr>
<td>
<center>?word</center>
</td>

<td>向游标之前寻找一个名为 『word』 的字符串；</td>
</tr>

<tr>
<td>
<center>:g/word1/s//word2/g</center>
</td>

<td>寻找 『word1』 这个字符串，并且以 『word2』 这个字符串取代之；</td>
</tr>

<tr>
<td>
<center>:n1,n2&nbsp; s/word1/word2/g</center>
</td>

<td>将第 n1 行到 n2 行的字符串 『word1』 都改成 『word2』；</td>
</tr>

<tr>
<td>
<center>:1,$&nbsp; s/ls/ll/g</center>
</td>

<td>将所有档案内容的 『ls』 这个字符串改成 『ll』 这个字符串；</td>
</tr>

<tr>
<td>
<hr width="100%"></td>

<td>
<hr width="100%"></td>
</tr>

<tr>
<td><font face="标楷体"><font color="#000066"><font size="+1">删除与复制：</font></font></font></td>

<td></td>
</tr>

<tr>
<td>
<center>yy&nbsp; 或&nbsp; Y</center>
</td>

<td>复制游标所在行的内容；</td>
</tr>

<tr>
<td>
<center>nyy&nbsp; 或&nbsp; nY</center>
</td>

<td>『n』 为数字：复制游标所在行向下 n 行之内容；</td>
</tr>

<tr>
<td>
<center>p</center>
</td>

<td>将 yy 复制的内容贴到游标所在行的下面；</td>
</tr>

<tr>
<td>
<center>x</center>
</td>

<td>删除一个字符；</td>
</tr>

<tr>
<td>
<center>nx</center>
</td>

<td>『n』 为数字：删除 n 个字符；</td>
</tr>

<tr>
<td>
<center>dd</center>
</td>

<td>删除游标所在那一行；</td>
</tr>

<tr>
<td>
<center>ndd</center>
</td>

<td>『n』 为数字：向下删除 n 行；</td>
</tr>

<tr>
<td>
<center>u</center>
</td>

<td>取消前一个动作；</td>
</tr>

<tr>
<td>
<center>[Ctrl] + [L]</center>
</td>

<td>清除屏幕并重绘屏幕</td>
</tr>

<tr>
<td>
<hr width="100%"></td>

<td>
<hr width="100%"></td>
</tr>

<tr>
<td><font face="标楷体"><font color="#000066"><font size="+1">命令模式：</font></font></font></td>

<td></td>
</tr>

<tr>
<td>
<center>:wq</center>
</td>

<td>将所做修改储存后离开 vi；</td>
</tr>

<tr>
<td>
<center>:w</center>
</td>

<td>仅储存档案；</td>
</tr>

<tr>
<td>
<center>:w&nbsp; [filename]</center>
</td>

<td>将目前的内容储存到 『filename』 这个档案中（类似另存新档）；</td>
</tr>

<tr>
<td>
<center>:r&nbsp; [filename]</center>
</td>

<td>将 『filename』 这个档案内容加到游标所在行后面；</td>
</tr>

<tr>
<td>
<center>:q</center>
</td>

<td>离开 vi；</td>
</tr>

<tr>
<td>
<center>:q!</center>
</td>

<td>强制离开 vi ；</td>
</tr>

<tr>
<td>
<hr width="100%"></td>

<td>
<hr width="100%"></td>
</tr>

<tr>
<td><font face="标楷体"><font color="#000066"><font size="+1">其他指令：</font></font></font></td>

<td></td>
</tr>

<tr>
<td>
<center>:set&nbsp; nu</center>
</td>

<td>设定行号，让你可以轻易的找出错误；</td>
</tr>

<tr>
<td>
<center>:set&nbsp; nonu</center>
</td>

<td>取消设定行号；</td>
</tr>

<tr>
<td>
<center>:n1, n2&nbsp; w&nbsp; [filename]</center>
</td>

<td>将 n1 到 n2 的内容存成 『filename』 这个档案；</td>
</tr>

<tr>
<td>
<hr width="100%"></td>

<td>
<hr width="100%"></td>
</tr>
</tbody></table>

<p>OK！会这些指令就已经很厉害了，因为常用到的指令也只有不到一半！通常 vi
的指令除了常用的几个外，其他是不用背的，你可以做一张简单的指令表在你的屏幕墙上，一有疑问可以马上的查询幽！</p></blockquote>
<font face="新细明体"><font color="#3333ff"><font size="-1">2002/ 01/01以来统计人数</font></font></font>
<br><img src="linux_07vi_files/Count.gif" nosave="" width="60" align="ABSCENTER" height="15">
<hr width="100%">
<br><a name="QA"></a><font face="标楷体"><font color="#000099"><font size="+1">本章问题讨论：</font></font></font>
<blockquote>
<ol>
<li>
<font size="+2">Q</font>：有没有其他的网站有介绍 vi 这套软件的例子？</li>

<br><font color="#000066"><font size="+2">A</font>：</font>
<li>
</li>
</ol>
</blockquote>
<hr width="100%">
<center>
<a href="http://linux.vbird.org/" target="_top"><img src="linux_07vi_files/VBirdTitle2.jpg" nosave="" width="90" border="0" height="25"></a>
<a href="http://linux.vbird.org/linux_basic"><img src="linux_07vi_files/icon_system.gif" nosave="" width="90" border="0" height="25"></a>
<a href="http://linux.vbird.org/linux_server"><img src="linux_07vi_files/icon_server.gif" nosave="" width="90" border="0" height="25"></a>
<a href="http://linux.vbird.org/linux_security"><img src="linux_07vi_files/icon_security.jpg" nosave="" width="90" border="0" height="25"></a>
<a href="http://phorum.vbird.org/" target="_blank"><img src="linux_07vi_files/icon_forums.gif" nosave="" width="90" border="0" height="25"></a>
<a href="http://linux.vbird.org/adsl"><img src="linux_07vi_files/icon_adsl.gif" nosave="" width="90" border="0" height="25"></a>
<br><font color="#000066"><font size="-1">Designed by <a href="mailto:vbird@mail.vbird.idv.tw">VBird</a>
during 2001-2004.&nbsp; Aerosol Lab.</font></font></center>
</body></html>
